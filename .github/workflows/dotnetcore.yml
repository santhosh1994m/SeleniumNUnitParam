name: NetFrameWork.CI

on: 	
  push:	
    branches:	
      - master
 
jobs:
  build:
    runs-on: windows-latest

    steps:
    - name: Checkout Repo 
      uses: actions/checkout@v1 
    - name: Setup Nuget.exe
      uses: warrenbuckley/Setup-Nuget@v1
    - name: Setup MSBuild.exe
      uses: warrenbuckley/Setup-MSBuild@v1
    - name: setup nuget 
      run : nuget restore SeleniumNUnitParam.sln
    - name: create a session 
      env:
        USERNAME : ${{ secrets.USERNAME }}
        PASSWORD : ${{ secrets.PASSWORD }}
      run : |
          $SOURCE : "D:\a\SeleniumNUnitParam\SeleniumNUnitParam\"
          $DEST : "\\35.188.202.141\C:\"
          $WebClient = New-Object System.Net.WebClient
          $WebClient.Credentials = New-Object System.Net.NetworkCredential($USERNAME,$PASSWORD)
          $WebClient.UploadFile($Dest,$Source)
          ls
         
