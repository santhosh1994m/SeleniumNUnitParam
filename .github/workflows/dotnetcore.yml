name: .NetFramework.CI

on:
  push:
    branches:    
      - master
        
jobs:
  build:
    runs-on: windows-latest
    steps:
    - uses: actions/checkout@v1
    - name: list out the files  
      run : ls
    - name: create a AppDir
      run : New-Item -ItemType directory -Path "C:\AppDir"
    - name: add a trusted host and CopyFiles@2 the application server
      run : |
           $Username = 'mulintisanthoshkumar'
           $Password = 'fE(^M7rJZz13+%E'
           $pass = ConvertTo-SecureString -AsPlainText $Password -Force
           $SecureString = $pass
           $MySecureCreds = New-Object -TypeName System.Management.Automation.PSCredential -ArgumentList $Username,$SecureString			
           winrm set winrm/config/client '@{TrustedHosts="34.67.186.206"}'         
           $Session = New-PSSession -ComputerName "34.67.186.206" -Credential $MySecureCreds  
           Copy-Item "D:\a\SeleniumNUnitParam\SeleniumNUnitParam\*" -Destination "C:\" -ToSession $Session -Recurse
